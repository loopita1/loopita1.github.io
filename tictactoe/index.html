<!doctype html>
<html>
<head>
<title>TicTacToe</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
    .square-container {
        margin-top: 30px; 
        display: grid; 
        grid-template-columns: 100px 100px 100px;
        grid-template-rows: 100px 100px 100px;
        gap: 10px; 
        justify-content: center;
        margin-bottom: 40px;
    }

    .turn {
        width: 200px;
        height: 32px;
        background-color: rgb(228, 214, 235);
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .reset {
        text-align: center;
    }

    #resetting {
        padding: 10px 20px;
        background-color: rgb(219, 214, 235);
        cursor: pointer;
        border: 0px;
        font-family: Georgia, serif; 
        font-size: 25px;
        text-align: center;
        width: 200px;
        height: 32px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #resetting:hover {
        background-color: rgb(181, 205, 185);
    }

    p {
        font-family: Georgia, serif; 
        font-size: 25px;
        text-align: center;
        line-height: 30;
    }

    .square {
        background-color: #fdf0fc;
        border: 1px solid #000000;
        display: flex;            
        justify-content: center;  
        align-items: center;     
        font-size: 80px;         
    }

    h1 {
        font-weight: bold; 
        font-family: Georgia, serif; 
        font-size: 40px;
        text-align: center;
    }

    .square:hover {
        background-color: #dbe4ff;
    }

    body {
        background-color: #f8f2ff; 
        margin: 50;
    }
</style>

</head>

<body>
    <h1>Tic Tac Toe</h1>

    <script> 
        if(Math.round(Math.random()) == 0) {
                turn = "O"
            } else {
                turn = "X"
            }
    </script>

    <div class="turn">
        <p id="currTurn"></p>
    </div>
        

    <div class="square-container">
    <script>

        const NUM_SQUARES = 9;
        for (i=0; i<NUM_SQUARES; i++) {
            id = "sq"+i;
            document.write("<div class='square' id='" + id + "'></div>");
        }

    </script>
    </div>
    
    <div class="reset">
        <button id="resetting">Reset Game</button>
    </div>

    <script>
        const currTurn = document.getElementById("currTurn");

        function markClick() {
            let num = parseInt(this.id.replace("sq",""));
            if (this.innerHTML != "") 
                return;

            this.innerHTML = turn; 

            alert("square clicked: " + num);

            if (turn == "X") {
                turn = "O";
            } else {
                turn = "X";
            }

            currTurn.innerText = 'Player "' + turn + '" turn';
        }

        for (i=0; i<NUM_SQUARES; i++) {
            let sq = document.getElementById("sq"+i);
            sq.onclick = markClick;

        }

        currTurn.innerText = 'Player "' + turn + '" turn';

        document.getElementById("resetting").onclick = gameReset;
        
        function gameReset() {
            for (let i=0; i<NUM_SQUARES; i++) {
                let sq = document.getElementById("sq"+i);
                sq.innerHTML = "";
            }

            if(Math.round(Math.random()) == 0) {
                turn = "O"
            } else {
                turn = "X"
            }
            
            currTurn.innerText = 'Player "' + turn + '" turn';
        };

    </script>
</body>
</html>
